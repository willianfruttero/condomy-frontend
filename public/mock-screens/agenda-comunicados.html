<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Condomy — Documentação Completa & Arquitetura</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* Reset & Base */
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
           background:#f7f8fa; color:#333; line-height:1.6; }
    a { color:#1a73e8; text-decoration:none; }
    a:hover { text-decoration:underline; }

    /* Layout */
    header { background:#1a73e8; color:#fff; padding:1rem;
             position:fixed; top:0; left:0; width:100%; z-index:1000; }
    header h1 { font-size:1.8rem; }
    nav { position:fixed; top:72px; left:0; bottom:0;
          width:240px; background:#fff; border-right:1px solid #ddd;
          overflow-y:auto; padding:1rem; }
    main { margin:80px 2rem 2rem 260px; }

    /* Sections */
    section { margin-bottom:3rem; }
    .section-title { font-size:1.5rem; color:#1a73e8;
                     border-bottom:2px solid #e0e0e0;
                     padding-bottom:.5rem; margin-bottom:1rem; }

    /* Navigation */
    nav ul { list-style:none; }
    nav li { margin:0.5rem 0; }
    nav a { display:block; padding:0.5rem; border-radius:4px; }
    nav a.active, nav a:hover { background:#e8f0fe; }

    /* Tables & Code */
    table { width:100%; border-collapse:collapse; margin:1rem 0; }
    th, td { border:1px solid #ddd; padding:.75rem; text-align:left; }
    th { background:#f0f0f0; }
    pre, code { background:#f0f0f0; padding:0.5rem;
                border-radius:4px; font-family:Consolas,'Courier New',monospace; }

    /* Mock-Screens Grid */
    .iframe-grid { display:grid;
                   grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
                   gap:1rem; }
    .screen-block { background:#fff; border:1px solid #ddd;
                    border-radius:4px; overflow:hidden; }
    .screen-block h4 { background:#e8f0fe; margin:0; padding:.5rem;
                       font-size:1rem; text-align:center; }
    .screen-block iframe, .screen-block img {
      width:100%; height:200px; border:none;
    }

    /* Footer */
    footer { text-align:center; padding:1rem;
             border-top:1px solid #ddd; margin-top:4rem;
             color:#777; font-size:.9rem; }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <h1>Condomy Documentation</h1>
    <p>Arquitetura Completa, Mock-Screens, Integrações e Boas Práticas</p>
  </header>

  <!-- Sidebar Navigation -->
  <nav>
    <ul>
      <li><a href="#overview" class="active">1. Visão Geral</a></li>
      <li><a href="#stack">2. Stack Tecnológico</a></li>
      <li><a href="#structure">3. Estrutura de Pastas</a></li>
      <li><a href="#mocks">4. Mock-Screens & UI</a></li>
      <li><a href="#backend">5. Backend</a></li>
      <li><a href="#frontend">6. Frontend</a></li>
      <li><a href="#api">7. API Contracts</a></li>
      <li><a href="#integration">8. Integrações de Boletos</a></li>
      <li><a href="#cicd">9. CI/CD & Deploy</a></li>
      <li><a href="#best-practices">10. Boas Práticas</a></li>
      <li><a href="#glossary">11. Glossário</a></li>
    </ul>
  </nav>

  <!-- Main Content -->
  <main>

    <!-- 1. Visão Geral -->
    <section id="overview">
      <h2 class="section-title">1. Visão Geral</h2>
      <p>Condomy é uma plataforma web para gestão de condomínios que integra:</p>
      <ul>
        <li>Interface em React baseada em mock-screens.</li>
        <li>Backend em Spring Boot com APIs RESTful.</li>
        <li>Geração automática de boletos e PIX (Itaú e Banco Inter).</li>
        <li>Banco relacional com migrações via Flyway/Liquibase.</li>
      </ul>
    </section>

    <!-- 2. Stack Tecnológico -->
    <section id="stack">
      <h2 class="section-title">2. Stack Tecnológico</h2>
      <table>
        <tr><th>Camada</th><th>Tecnologia</th><th>Descrição</th></tr>
        <tr><td>Frontend</td><td>Next.js (React)</td><td>SSR e rotas automáticas</td></tr>
        <tr><td>UI</td><td>Tailwind / CSS Modules</td><td>Design system e responsividade</td></tr>
        <tr><td>Backend</td><td>Spring Boot 3 (Java 17+)</td><td>Injeção de dependências e contexto</td></tr>
        <tr><td>DB</td><td>PostgreSQL / MySQL</td><td>JPA + Flyway</td></tr>
        <tr><td>Testes</td><td>JUnit 5, Mockito</td><td>Unidade e integração</td></tr>
        <tr><td>CI/CD</td><td>GitHub Actions</td><td>Build, testes e deploy</td></tr>
        <tr><td>Infra</td><td>Vercel / AWS EB / K8s</td><td>Hospedagem contínua</td></tr>
      </table>
    </section>

    <!-- 3. Estrutura de Pastas -->
    <section id="structure">
      <h2 class="section-title">3. Estrutura de Pastas</h2>

      <h3>3.1 condomy-backend</h3>
      <pre>
condomy-backend/
├─ pom.xml
├─ src/
│  ├─ main/java/com/condomy/common_lib/
│  │   ├─ config/
│  │   ├─ controller/
│  │   ├─ dto/
│  │   ├─ model/
│  │   ├─ repository/
│  │   └─ service/
│  └─ resources/
│      ├─ application.yml
│      └─ db/migration/
└─ src/test/java/com/condomy/common_lib/DemoApplicationTests.java
      </pre>

      <h3>3.2 condomy-frontend</h3>
      <pre>
condomy-frontend/
├─ public/mock-screens/    ← Protótipos HTML e PNG
├─ src/components/
├─ src/lib/api.js
├─ src/pages/
├─ src/styles/
└─ src/utils/
      </pre>
    </section>

    <!-- 4. Mock-Screens & UI -->
    <section id="mocks">
      <h2 class="section-title">4. Mock-Screens & UI Prototypes</h2>
      <p>Todos os protótipos em <code>public/mock-screens</code>. Role para ver cada tela:</p>
      <div class="iframe-grid">
        <div class="screen-block"><h4>agenda-comunicados</h4>
          <iframe src="/mock-screens/agenda-comunicados.html"></iframe>
        </div>
        <div class="screen-block"><h4>agenda-servicos</h4>
          <iframe src="/mock-screens/agenda-servicos.html"></iframe>
        </div>
        <div class="screen-block"><h4>boletos-e-pagamentos</h4>
          <iframe src="/mock-screens/boletos-e-pagamentos.html"></iframe>
        </div>
        <div class="screen-block"><h4>cadastro-comunicados</h4>
          <iframe src="/mock-screens/cadastro-comunicados.html"></iframe>
        </div>
        <div class="screen-block"><h4>cadastro-fornecedores</h4>
          <iframe src="/mock-screens/cadastro-fornecedores.html"></iframe>
        </div>
        <div class="screen-block"><h4>cadastro-unidade</h4>
          <iframe src="/mock-screens/cadastro-unidade.html"></iframe>
        </div>
        <div class="screen-block"><h4>condominios-gerenciador</h4>
          <iframe src="/mock-screens/condominios-gerenciador.html"></iframe>
        </div>
        <div class="screen-block"><h4>dashboard-admin-global</h4>
          <iframe src="/mock-screens/dashboard-admin-global.html"></iframe>
        </div>
        <div class="screen-block"><h4>documentos-condominio</h4>
          <iframe src="/mock-screens/documentos-condominio.html"></iframe>
        </div>
        <div class="screen-block"><h4>estatisticas-comunicados</h4>
          <iframe src="/mock-screens/estatisticas-comunicados.html"></iframe>
        </div>
        <div class="screen-block"><h4>eventos-condominio</h4>
          <iframe src="/mock-screens/eventos-condominio.html"></iframe>
        </div>
        <div class="screen-block"><h4>financeiro-condominio</h4>
          <iframe src="/mock-screens/financeiro-condominio.html"></iframe>
        </div>
        <div class="screen-block"><h4>fornecedores-visualizacao</h4>
          <iframe src="/mock-screens/fornecedores-visualizacao.html"></iframe>
        </div>
        <div class="screen-block"><h4>historico-envios</h4>
          <iframe src="/mock-screens/historico-envios.html"></iframe>
        </div>
        <div class="screen-block"><h4>historico-financeiro</h4>
          <iframe src="/mock-screens/historico-financeiro.html"></iframe>
        </div>
        <div class="screen-block"><h4>indicadores-condominio</h4>
          <iframe src="/mock-screens/indicadores-condominio.html"></iframe>
        </div>
        <div class="screen-block"><h4>leitura-comunicado</h4>
          <iframe src="/mock-screens/leitura-comunicado.html"></iframe>
        </div>
        <div class="screen-block"><h4>login</h4>
          <iframe src="/mock-screens/login.html"></iframe>
        </div>
        <div class="screen-block"><h4>meus-boletos</h4>
          <iframe src="/mock-screens/meus-boletos.html"></iframe>
        </div>
        <div class="screen-block"><h4>notificacoes-sistema</h4>
          <iframe src="/mock-screens/notificacoes-sistema.html"></iframe>
        </div>
        <div class="screen-block"><h4>ocorrencias</h4>
          <iframe src="/mock-screens/ocorrencias.html"></iframe>
        </div>
        <div class="screen-block"><h4>painel-financeiro</h4>
          <iframe src="/mock-screens/painel-financeiro.html"></iframe>
        </div>
        <div class="screen-block"><h4>painel-inadimplencia</h4>
          <iframe src="/mock-screens/painel-inadimplencia.html"></iframe>
        </div>
        <div class="screen-block"><h4>painel-manutencao</h4>
          <iframe src="/mock-screens/painel-manutencao.html"></iframe>
        </div>
        <div class="screen-block"><h4>painel-sindico</h4>
          <iframe src="/mock-screens/painel-sindico.html"></iframe>
        </div>
        <div class="screen-block"><h4>perfil-financeiro</h4>
          <iframe src="/mock-screens/perfil-financeiro.html"></iframe>
        </div>
        <div class="screen-block"><h4>perfil-morador</h4>
          <iframe src="/mock-screens/perfil-morador.html"></iframe>
        </div>
        <div class="screen-block"><h4>prestadores-servico</h4>
          <iframe src="/mock-screens/prestadores-servico.html"></iframe>
        </div>
        <div class="screen-block"><h4>protocolo-solicitacoes</h4>
          <iframe src="/mock-screens/protocolo-solicitacoes.html"></iframe>
        </div>
        <div class="screen-block"><h4>relatorios-financeiros</h4>
          <iframe src="/mock-screens/relatorios-financeiros.html"></iframe>
        </div>
        <div class="screen-block"><h4>solicitacoes-documentos</h4>
          <iframe src="/mock-screens/solicitacoes-documentos.html"></iframe>
        </div>
        <div class="screen-block"><h4>solicitacoes-gerente</h4>
          <iframe src="/mock-screens/solicitacoes-gerente.html"></iframe>
        </div>
        <div class="screen-block"><h4>visao-geral-comunicados</h4>
          <iframe src="/mock-screens/visao-geral-comunicados.html"></iframe>
        </div>
        <div class="screen-block"><h4>visao-geral-condominio</h4>
          <iframe src="/mock-screens/visao-geral-condominio.html"></iframe>
        </div>
        <div class="screen-block"><h4>teste.png</h4>
          <img src="/mock-screens/teste.png" alt="Teste">
        </div>
      </div>
    </section>

    <!-- 5. Backend -->
    <section id="backend">
      <h2 class="section-title">5. Arquitetura Backend</h2>
      <h3>5.1 Camadas & Fluxo de Dados</h3>
      <ol>
        <li><strong>Controller:</strong> expõe endpoints REST.</li>
        <li><strong>Service:</strong> regras de negócio e validações.</li>
        <li><strong>Repository:</strong> abstrações JPA para o banco.</li>
        <li><strong>Database:</strong> PostgreSQL/MySQL com Flyway.</li>
      </ol>
      <h3>5.2 Modelo de Dados (ER)</h3>
      <p>Veja <code>docs/data-model.md</code> para o diagrama completo. Entidades principais:</p>
      <ul>
        <li>User: id, nome, email, senhaHash, role</li>
        <li>Condominium: id, nome, endereço, adminId</li>
        <li>Space: id, nome, tipo, condominiumId</li>
        <li>Reservation: id, userId, spaceId, start, end</li>
        <li>Participant: id, userId, condominiumId</li>
      </ul>
    </section>

    <!-- 6. Frontend -->
    <section id="frontend">
      <h2 class="section-title">6. Arquitetura Frontend</h2>
      <h3>6.1 Data Fetching & State</h3>
      <p>Next.js (SSR) e React Query / SWR para client-side fetching.</p>
      <h3>6.2 Componentes React</h3>
      <ul>
        <li>&lt;Dashboard/&gt;, &lt;CondoCard/&gt;, &lt;SpaceDetail/&gt;</li>
        <li>Formulários com React Hook Form + Yup</li>
        <li>Design System: Tailwind + tokens em <code>ui-specifications.md</code></li>
      </ul>
    </section>

    <!-- 7. API Contracts -->
    <section id="api">
      <h2 class="section-title">7. API Contracts</h2>
      <table>
        <tr><th>Método</th><th>Rota</th><th>Descrição</th><th>Request</th><th>Response</th></tr>
        <tr><td>POST</td><td>/api/auth/login</td><td>Autenticação</td><td>{ email,password }</td><td>{ token,user }</td></tr>
        <tr><td>GET</td><td>/api/condominiums</td><td>Listar condomínios</td><td>-</td><td>[{ id,nome,… }]</td></tr>
        <tr><td>GET</td><td>/api/spaces/{spaceId}</td><td>Detalhar espaço</td><td>-</td><td>{ id,nome,… }</td></tr>
        <tr><td>POST</td><td>/api/reservations</td><td>Criar reserva</td><td>{ userId,spaceId,start,end }</td><td>{ id,status }</td></tr>
        <tr><td>POST</td><td>/api/boletos/itau</td><td>Boleto+PIX (Itaú)</td><td>{ amount,dueDate,payee }</td><td>{ boletoUrl,qrCodeUrl }</td></tr>
        <tr><td>POST</td><td>/api/boletos/inter</td><td>Cobrança (Inter)</td><td>{ amount,dueDate,payee }</td><td>{ barcode,qrCode }</td></tr>
      </table>
    </section>

    <!-- 8. Integrações de Boletos -->
    <section id="integration">
      <h2 class="section-title">8. Integrações de Boletos</h2>
      <h3>Itaú Boleto + PIX</h3>
      <p>Guia em <code>docs/itau-integration-guide.md</code>. Fluxo:</p>
      <ul>
        <li>OAuth2.0 + mTLS</li>
        <li>Registrar em <code>/api/boletos/itau</code></li>
        <li>Receber código de barras e QR Code</li>
        <li>Webhook de conciliação</li>
      </ul>
      <h3>Banco Inter Cobrança + PIX</h3>
      <p>Guia em <code>docs/inter-integration-guide.md</code>. Fluxo:</p>
      <ul>
        <li>Credenciais PJ + certificado PFX</li>
        <li>Emitir em <code>/api/boletos/inter</code></li>
        <li>Notificação via webhook</li>
      </ul>
    </section>

    <!-- 9. CI/CD & Deploy -->
    <section id="cicd">
      <h2 class="section-title">9. CI/CD & Deploy</h2>
      <ol>
        <li>Build & Test: <code>mvn clean test</code> / <code>npm ci && npm run lint && npm run build</code></li>
        <li>Deploy Backend: Docker → AWS EB / Kubernetes</li>
        <li>Deploy Frontend: Vercel via GitHub Actions</li>
      </ol>
    </section>

    <!-- 10. Boas Práticas -->
    <section id="best-practices">
      <h2 class="section-title">10. Boas Práticas</h2>
      <ul>
        <li>Conventional Commits</li>
        <li>Pull Requests revisados</li>
        <li>ESLint/Prettier e Checkstyle/SpotBugs</li>
        <li>Atualização mensal de dependências</li>
        <li>Backups diários e snapshots semanais</li>
      </ul>
    </section>

    <!-- 11. Glossário -->
    <section id="glossary">
      <h2 class="section-title">11. Glossário</h2>
      <dl>
        <dt>Condominium</dt><dd>Edifício ou conjunto residencial gerenciado.</dd>
        <dt>Space</dt><dd>Área comum (salão, quadra) reservável.</dd>
        <dt>Reservation</dt><dd>Registro de reserva por usuário.</dd>
        <dt>Participant</dt><dd>Vínculo de usuário ao condomínio.</dd>
      </dl>
    </section>

    <footer>
      © 2025 Condomy — Documentação Completa.  
      Mantenha este arquivo atualizado para preservar a visão do produto.
    </footer>

  </main>
</body>
</html>
